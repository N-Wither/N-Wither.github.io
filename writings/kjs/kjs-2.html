<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset= "utf-8">
    <link href="https://n-wither.github.io/assets/css/metropolis.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Noto Serif SC' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Noto Sans SC' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="https://N-Wither.github.io/assets/css/main-1.css">
    <link rel="shortcut icon" href="https://avatars.githubusercontent.com/u/63383462?v=4">
    <link rel="stylesheet" type="text/css" href="https://N-Wither.github.io/assets/css/hljs/a11y-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <script>hljs.highlightAll()</script>
    <title></title>
    <script src="https://n-wither.github.io/assets/js/utils.js"></script>
    <script>
        document.title = 'é…æ–¹äº‹ä»¶ | KubeJS Experienced';
        let setElements = () => {
            document.getElementById('category').innerHTML = 'KubeJS<br>Experienced';
            document.getElementById('page_title').innerHTML = 'é…æ–¹äº‹ä»¶';
            document.getElementById('sub_title').innerHTML = 'RecipeEventJS';
        }
    </script>
</head>
<body onload="startTime(), hello(), randomQuote(), setElements()">
    <div class="navigate" id="navigate">
        <a href="./kjs-0.html" style="line-height: unset; height: 50px;">ğŸ“‚<span style="font-size: larger; font-weight: bolder;" id="category">Edit This</span></a>
        <a href="https://n-wither.github.io">ğŸ <span>Home</span></a>
        <a href="https://n-wither.github.io/writings/index.html">ğŸ“š<span>Articles</span></a>
    </div>
    <div class="toolbox" id="toolbox">
        <div style="position: absolute; top: 45%; left: 10px">|||</div>
        <div id="clock">clock</div>
        <div class="chapter_select">
            <a href="./kjs-1.html">ä¸Šä¸€ç¯‡</a>
            <a href="./kjs-0.html">ç›®å½•</a>
            <a href="./kjs-3.html">ä¸‹ä¸€ç¯‡</a>
        </div>
        <div class="content-table">
            <a href="#sect-1">å·¥ä½œå°åˆæˆ</a>
            <a href="#sect-2">ç§»é™¤ä¸ä¿®æ”¹é…æ–¹</a>
            <a href="#sect-3">ä½¿ç”¨å¸¦ NBT çš„ç‰©å“</a>
            <a href="#sect-4">å…¶ä»–çš„åŸç‰ˆé…æ–¹</a>
            <a href="#sect-5">ä½¿ç”¨ JSON é…æ–¹</a>
        </div>
    </div>
    <div class="content">
        <div>
            <h1 id = 'page_title'>Title</h1>
            <h3 id = 'sub_title'></h2>
            <hr/>
        </div>
        <div class="mainText">
            <h2>å‰è¨€</h2>
            <p>åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œä½ è‡ªç„¶æ˜¯æœ€å¥½æœ‰ä¸€äº›ç¼–ç¨‹åŸºç¡€ï¼Œå¤§å­¦çš„ C è¯­è¨€è¯¾å°±è¶³å¤Ÿäº†ã€‚å½“ç„¶æ²¡æœ‰ä¹Ÿæ²¡å…³ç³»ï¼Œç…§ç€æˆ‘å†™çš„åšå°±æ˜¯äº†ï¼Œä½†æ˜¯å¦‚æœä½ æœ‰ä¸€å®šçš„ç†è§£èƒ½åŠ›ï¼Œé‚£ä½ å°±å¯ä»¥è§¦ç±»æ—é€šï¼Œæˆ‘ä¹Ÿä¸å¿…é‚£ä¹ˆè´¹å¿ƒã€‚</p>
            <p>ç„¶åä»‹ç»ä¸€ä¸‹è¿™äº›ï¼š</p>
            <blockquote class="info">è“è‰²çš„ blockquote è¡¨ç¤ºä¿¡æ¯ä¸æç¤ºã€‚</blockquote>
            <blockquote class="notice">é»„è‰²çš„ blockquote è¡¨ç¤ºåº”å½“æ³¨æ„ã€‚</blockquote>
            <blockquote class="warn">çº¢è‰²çš„ blockquote è¡¨ç¤ºè­¦å‘Šã€‚</blockquote>
            <p>é­”æ”¹æ¨¡ç»„ç»å¤§éƒ¨åˆ†ç”¨é€”éƒ½æ˜¯æ”¹é…æ–¹ï¼Œè¿™ç¯‡æ–‡ç« æ•™ä½ æ”¹é…æ–¹ã€‚</p>
            <p>æˆ‘æ¨èä½ ä½¿ç”¨<a href="https://www.curseforge.com/minecraft/mc-mods/probejs">ProbeJS</a>ï¼Œå®ƒèƒ½åœ¨ VSCode é‡Œé¢æä¾›ä»£ç æç¤ºå’Œè¡¥å…¨ã€‚</p>
            <h2 id="sect-1">å·¥ä½œå°åˆæˆ</h2>
            <p>é¦–å…ˆä½ åœ¨<code>server_scripts</code>é‡Œé¢æ–°å»ºä¸€ä¸ª JS æ–‡ä»¶ï¼Œä¸€ä¸ªæ–‡ä»¶åªåšä¸€ç±»äº‹æƒ…ï¼Œå…»æˆå¥½ä¹ æƒ¯ï¼Œå…å¾—ä»¥åå¿˜è®°ä»£ç å†™åœ¨å“ªäº†ã€‚</p>
            <p>ç„¶åè¦çŸ¥é“å·¥ä½œå°çš„é…æ–¹åˆ†æœ‰åºåˆæˆå’Œæ— åºåˆæˆä¸¤ç§ï¼Œæ¥çœ‹çœ‹æ€ä¹ˆå†™ï¼š</p>
            <blockquote class="info">
                å…³äº JavaScript çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¯·çœ‹<a href="https://www.runoob.com/js/js-datatypes.html">è¿™ç¯‡æ–‡ç« </a>ã€‚
            </blockquote>
<pre><code class="hljs language-js">
// priority: 0
// ä¸Šé¢ä¸€è¡Œçš„ä½œç”¨æ˜¯è®¾å®šæ­¤ JS æ–‡ä»¶åŠ è½½çš„ä¼˜å…ˆçº§ï¼Œæ•°å­—å¤§çš„å…ˆåŠ è½½ã€‚
onEvent('recipes', event =&gt; {                      // æŒ‡å®šä»£ç ä½œç”¨çš„äº‹ä»¶ï¼Œ'event'å¯ä»¥æ”¹æˆä»»ä½•åˆæ³•çš„å˜é‡å
    event.shaped('2x minecraft:golden_apple',      // æ·»åŠ æœ‰åºåˆæˆé…æ–¹ï¼Œæ­¤é…æ–¹è¾“å‡ºä¸¤ä¸ªé‡‘è‹¹æœ
        [
            ' G ',
            'GAG',
            ' G '
        ],                                         // ç‰©å“çš„æ‘†æ”¾æ ·å¼ï¼Œä½¿ç”¨å­—ç¬¦ä»£æ›¿ä¸åŒçš„ç‰©å“ï¼Œç©ºæ ¼è¡¨ç¤ºæ²¡æœ‰ç‰©å“
        {
            G: '#forge:storage_blocks/gold',
            A: 'minecraft:apple'
        }                                          // å®šä¹‰ä¸Šé¢çš„å­—ç¬¦ä»£è¡¨çš„ç‰©å“ï¼ˆæˆ–æ ‡ç­¾ï¼‰
    ).id('kubejs:shaped_example_1')                // æŒ‡å®šé…æ–¹ IDï¼Œè¿™ä¸æ˜¯å¿…é¡»çš„

    event.shapeless('minecraft:copper_ingot',      // æ·»åŠ æ— åºåˆæˆé…æ–¹ä»¥åŠè¾“å‡ºçš„ç‰©å“
        ['9x #forge:nuggets/copper']               // åŸæ–™åŠæ•°é‡ï¼Œå¦‚æœåªæœ‰ä¸€ç§åŸæ–™å¯ä»¥ä¸ç”¨æ•°ç»„
    )
})

// å¦‚æœä½ åœ¨ä½¿ç”¨ 1.19ï¼ŒonEvent è¦æ”¹å†™æˆå¦‚ä¸‹æ–¹å¼
// 1.19 çš„æ›´å¤šå˜åŒ–è¯·çœ‹ https://mods.latvian.dev/books/kubejs-legacy/page/migrating-to-kubejs-6
// æœ¬ç³»åˆ—çš„æ–‡ç« åŸºäº 1.18ï¼Œè¿™ä¹‹åä¸å†æ¼”ç¤º 1.19 çš„å†™æ³•
ServerEvents.recipes(event =&gt; {
    // å’Œä¸Šé¢ä¸€æ ·çš„ä»£ç 
})
</code>ä»ä¸Šä¸€ç¯‡æ–‡ç« æ¬è¿è¿‡æ¥çš„ï¼Œç¨å¾®æ”¹äº†ä¸€ä¸‹</pre>
            å†™å®Œåä¿å­˜æ–‡ä»¶ï¼Œåœ¨æ¸¸æˆé‡Œé¢ä½¿ç”¨<code>/reload</code>æ¥åº”ç”¨æ›´æ”¹ã€‚
            <blockquote class="info">åœ¨æœªæŒ‡å®šé…æ–¹ ID çš„æƒ…å†µä¸‹ï¼ŒKubeJS ä¼šéšæœºåˆ†é…ä¸€ä¸ª IDã€‚å¦‚æœä½ æŒ‡å®šçš„é…æ–¹ ID å’Œç°æœ‰çš„ ID ç›¸åŒï¼Œåˆ™æ–°è®¾å®šçš„é…æ–¹ä¼šè¦†ç›–æ—§çš„ã€‚</blockquote>
            <blockquote class="info">å¦‚æœä½ å‘ç°ä½ å†™çš„ä»£ç æ²¡æœ‰ç”Ÿæ•ˆï¼Œè¯·åœ¨<code>logs/kubejs</code>æŸ¥çœ‹æ—¥å¿—ï¼</blockquote>
            <p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå·¥ä½œå°é…æ–¹å¯ä»¥è¢«é•œåƒï¼ˆç±»ä¼¼é”„å¤´çš„é…æ–¹ï¼‰å’Œç¼©å°ï¼ˆç±»ä¼¼æœ¨æ£ï¼‰ã€‚å¦‚æœä½ æƒ³å†™ç±»ä¼¼äº Mystical Agriculture ç²¾ååˆæˆçš„é‚£ç§é…æ–¹ï¼Œå°±åƒè¿™æ ·å†™ï¼š</p>
<pre><code class="hljs lang-js">
onEvent('recipes', e =&gt; {
    e.shaped('4x minecraft:stick', [
        ' P ',
        'P  ',
        '   '
    ], {P: '#minecraft:planks'}).noMirror().noShrink()      // è¿™ä¸¤ä¸ªæ–¹æ³•æ²¡æœ‰å…ˆåé¡ºåº
})
</code></pre>
            <p>è¿™æ ·ä½ å°±å¿…é¡»æŠŠæœ¨æ¿æ”¾åˆ°ç¬¬ä¸€è¡Œç¬¬äºŒä¸ªæ ¼å­å’Œç¬¬äºŒè¡Œç¬¬ä¸€ä¸ªæ ¼å­æ‰èƒ½åˆæˆå‡ºæœ¨æ£äº†ï¼Œä¸èƒ½é•œåƒï¼Œä¹Ÿä¸èƒ½æ”¾åˆ°åˆ«å¤„ï¼ˆå“ªæ€•å½¢çŠ¶ä¸€æ ·ï¼‰ã€‚</p>
            <h2 id="sect-2">ç§»é™¤ä¸ä¿®æ”¹é…æ–¹</h2>
            <p>ç›´æ¥ä¸Šç¤ºä¾‹ã€‚</p>
<pre><code class="hljs language-js">
onEvent('recipes', e =&gt; {
    e.remove({output: 'minecraft:golden_apple'})    // ç§»é™¤æ‰€æœ‰è¾“å‡ºé‡‘è‹¹æœçš„é…æ–¹ï¼ŒåŒ…æ‹¬å…¶ä»–æ¨¡ç»„æ·»åŠ çš„
    e.remove({id: 'minecraft:golden_apple'})        // ç§»é™¤é…æ–¹ ID ä¸º 'minecrfat:golden_apple' çš„é…æ–¹ï¼Œä¹Ÿå°±æ˜¯åŸç‰ˆçš„é‡‘è‹¹æœé…æ–¹
    e.remove({type: 'minecraft:crafting_shaped'})   // ç§»é™¤æ‰€æœ‰æœ‰åºåˆæˆé…æ–¹
    e.remove({mod: 'torcherino'})                   // ç§»é™¤æ‰€æœ‰ç”± Torcherino æ·»åŠ çš„é…æ–¹ï¼Œå¦å¤–å®ƒæ£€æµ‹çš„å®é™…ä¸Šæ˜¯é…æ–¹ ID çš„å‘½åç©ºé—´
    e.remove({
        not: {output: 'minecraft:golden_apple'}
    })                                              // ç§»é™¤æ‰€æœ‰ä¸è¾“å‡ºé‡‘è‹¹æœçš„é…æ–¹ï¼Œæ¢å¥è¯è¯´ä½ åªèƒ½åˆæˆé‡‘è‹¹æœ
    e.remove({})                                    // ç§»é™¤æ‰€æœ‰é…æ–¹ï¼Œé™¤éä½ æƒ³é‡æ–°åšä¸€ä¸ªæ¸¸æˆï¼Œå¦åˆ™ä¸è¦ä½¿ç”¨
})
</code></pre>
            <p><code>remove()</code>ä¸­éœ€è¦çš„æ˜¯é…æ–¹è¿‡æ»¤å™¨ï¼Œä¹Ÿé€‚ç”¨äºä¿®æ”¹é…æ–¹ã€‚</p>
<pre><code class="hljs lang-js">
// ä¸ºäº†æ–¹ä¾¿å†™æ–‡ç« ï¼Œçœç•¥ onEvent()
// ä½ è¿˜æ˜¯è¦å†™çš„
e.replaceInput({output: 'minecraft:golden_apple'}, 'minecraft:gold_ingot', 'minecraft:copper_ingot')   // å°†é‡‘è‹¹æœé…æ–¹ä¸­çš„é‡‘é”­æ¢æˆé“œé”­ï¼Œå¤©ä¸‹å“ªæœ‰è¿™ä¹ˆå¥½çš„äº‹ï¼
e.replaceOutput({}, 'minecraft:golden_apple', 'minecraft:golden_carrot')                               // å°†æ‰€æœ‰è¾“å‡ºé‡‘è‹¹æœçš„é…æ–¹æ¢æˆè¾“å‡ºé‡‘èƒ¡èåœï¼Œè‡³å°‘æŒºæ‰›é¥¿ï¼
</code></pre>
            <h2 id="sect-3">ä½¿ç”¨å¸¦ NBT çš„ç‰©å“</h2>
            <p>å‡å¦‚ä½ æƒ³åˆæˆä¸€æœ¬é™„é­”ä¹¦ï¼š</p>
<pre><code class="hljs lang-js">
e.shaped(Item.of('minecraft:enchanted_book', '{StoredEnchantments:[{lvl:3,id:"minecraft:fortune"}]}')  // å¯ä»¥å»æ‰ NBT å¤–çš„å¼•å·æŠŠå®ƒå˜æˆä¸€ä¸ªå¯¹è±¡
    [' D ', 'DBD', ' D '],
    {
        D: 'minecraft:diamond',
        B: 'minecraft:book'
    }
)
</code></pre>
            <p><code>Item.of()</code> æ¥å— 2 æˆ– 3 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºç‰©å“ ID æˆ–æ ‡ç­¾ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°é‡æˆ– NBTï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸º NBTã€‚</p>
            <p>NBT çš„æ•°æ®ç±»å‹ä¸º <code>Internal.CompoundTag_</code>ï¼Œè¡¨ç°ä¸º JavaScript å¯¹è±¡ã€‚</p>
            <p><code>Item</code>ç±»è¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ–¹æ³•ï¼Œæˆ‘ä¼šåœ¨ä¹‹åæåˆ°ã€‚</p>
            <h2 id="sect-4">å…¶ä»–çš„åŸç‰ˆé…æ–¹</h2>
<pre><code class="hljs lang-js">
e.smelting(output, input).id('mod:id')                         // ç†”ç‚‰
e.smelting(output, input).cookTime(Number).xp(Number)          // è®¾å®šç†”ç‚¼æ—¶é—´å’Œè·å–çš„ç»éªŒï¼Œä¹Ÿé€‚ç”¨äºé«˜ç‚‰ã€çƒŸç†ç‚‰å’Œè¥ç«çƒ¹é¥ª
e.blasting(output, input)                                      // é«˜ç‚‰
e.smoking(output, input)                                       // çƒŸç†ç‚‰
e.campfireCooking(output, input)                               // è¥ç«çƒ¹é¥ª
e.smithing(output, input1, input2)                             // é”»é€ å°
</code></pre>
            å¦‚æœä½ æƒ³ä¿®æ”¹é…¿è¯å°ï¼Œè¯·å®‰è£…<a href="https://www.curseforge.com/minecraft/mc-mods/morejs">MoreJS</a>ã€‚
<pre><code class="lang-js">
    // for 1.18 pls use: onEvent("morejs.potion_brewing.register", event =&gt; { ... })
    MoreJSEvents.registerPotionBrewing(event =&gt; {
        /**
         * 1. Argument: The top ingredient of the brewing stand
         * 2. Argument: The bottom ingredient of the brewing stand
         * 3. Argument: The result of the brewing
         */
        event.addCustomBrewing(
            "minecraft:gold_ingot",
            Ingredient.customNBT("minecraft:potion", (nbt) =&gt; {
                return nbt.contains("Potion") && nbt.Potion == "minecraft:water";
            }),
            Item.of("minecraft:potion", { Potion: "kubejs:felix_felicis" }) // This is a custom made potion. It's not vanilla
        );
    
        event.addCustomBrewing("minecraft:diamond", "minecraft:emerald", "minecraft:gold_ingot");
    
        /**
         * 1. Argument: The bottom ingredient of the brewing stand
         * 2. Argument: The input potion of the brewing stand
         * 3. Argument: The result potion of the brewing
         */
        event.addPotionBrewing("minecraft:emerald", "minecraft:fire_resistance", "minecraft:strength");
    
        /**
         * Simpler call which automatically use `potion:water` as the input potion.
         * 1. Argument: The bottom ingredient of the brewing stand
         * 3. Argument: The result potion of the brewing
         */
        event.addPotionBrewing("minecraft:nether_star", "minecraft:levitation");
    
        /**
         * Removes all potions where an awkward potion is used as theb base potion ingredient.
         * 1. Argument: The input potion id to filter.
         * 2. Argument: The ingredient to filter.
         * 3. Argument: The result potion id to filter.
         * Passing `null` counts as a wildcard.
         */
        event.removeByPotion("minecraft:awkward", null, null);
    });
</code>æ‘˜è‡ª <a href="https://github.com/AlmostReliable/morejs/wiki/Potion-Brewing">MoreJS Wiki</a></pre>
            <h2 id="sect-5">ä½¿ç”¨ JSON é…æ–¹</h2>
            <br/>
        </div>
        <div id="footer" style="clear:both;text-align:center;">
            <hr/>
            <span id="randomQuote">Random Quote</span>
            <br>
            Powered by <a href="https://pages.github.com/" >Github Pages</a>.
        </div>
    </div>
</body>
</html>